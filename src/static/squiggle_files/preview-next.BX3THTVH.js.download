import{a as Hr,b as jr,c as Or}from"https://app.framerstatic.com/chunk-FVBCXSUW.js";import{a as wr}from"https://app.framerstatic.com/chunk-U6LCHLUH.js";import{a as Ar,b as Kr}from"https://app.framerstatic.com/chunk-RNBWH3U2.js";import{a as Lr,b as Dr,c as Ue,e as Fr}from"https://app.framerstatic.com/chunk-Q6LLKHPR.js";import{A as yr,B as Pr,d as ar,o as sr,p as cr,q as mr,t as pr,v as gr,x as vr,y as hr}from"https://app.framerstatic.com/chunk-BH63GPCX.js";import"https://app.framerstatic.com/chunk-NBEFPMVE.js";import{a as V,b as X}from"https://app.framerstatic.com/chunk-VGYC2ZXH.js";import{a as Rr,b as Tr,d as Nr,e as xr,f as kr,g as ue,h as Mr}from"https://app.framerstatic.com/chunk-2S35SSJW.js";import{O as fr,d as lr,f as ur,ga as br,ja as Ke,la as Sr}from"https://app.framerstatic.com/chunk-GSHWBSOS.js";import{a as Q,b as ot,c as nt,f as Ir}from"https://app.framerstatic.com/chunk-NLCKVBR5.js";import{i as Cr}from"https://app.framerstatic.com/chunk-LFL4HJM5.js";import{a as le}from"https://app.framerstatic.com/chunk-A2XM7CWL.js";import{a as rt,b as Te}from"https://app.framerstatic.com/chunk-LRFMZAIA.js";import{a as tt,i as Ae}from"https://app.framerstatic.com/chunk-FIYP577F.js";import{$b as Ht,$c as $t,Ac as Ut,Ea as pt,Ed as Fe,Fc as De,Fd as _,Fs as nr,Ga as ft,Gd as zt,Hc as Bt,Hs as ir,I as ke,Ia as gt,Ic as te,Ja as vt,Jd as ne,Jg as Zt,Ka as ht,Ma as bt,Ob as Tt,Of as Xt,Pb as Nt,Pf as qt,Qb as xt,Qe as Vt,Qr as rr,R as Me,Sb as kt,Tc as Wt,Ue as be,Ur as or,V as fe,Vf as Jt,W as ge,Wb as Mt,Wk as Oe,Xb as It,Ya as yt,Yb as Lt,Zb as Dt,_b as Ft,ac as jt,bc as Ie,cc as Ot,cd as Gt,cf as He,d as Ne,db as Ct,dc as At,de as _t,eb as P,ej as je,ib as St,ic as Le,jb as wt,jc as Kt,k as xe,kb as de,lb as he,lr as tr,m as dt,ml as Qt,na as ut,no as er,p as lt,pa as mt,tb as Et,ub as wo,zh as Yt}from"https://app.framerstatic.com/chunk-M45VXM4I.js";import"https://app.framerstatic.com/chunk-CKP2GXTU.js";import"https://app.framerstatic.com/chunk-ZAVCCCEM.js";import{d as dr}from"https://app.framerstatic.com/chunk-KQURWOV5.js";import"https://app.framerstatic.com/chunk-DSERDOJV.js";import"https://app.framerstatic.com/chunk-M5JBPS3M.js";import{j as ye}from"https://app.framerstatic.com/chunk-ED23XP4C.js";import{a as Er}from"https://app.framerstatic.com/chunk-BILZATDT.js";import{b as Rt}from"https://app.framerstatic.com/chunk-IEH5QJIZ.js";import{b as Po}from"https://app.framerstatic.com/chunk-7DPOW67T.js";import"https://app.framerstatic.com/chunk-3MSLF32W.js";import"https://app.framerstatic.com/chunk-CJ5LZKVI.js";import{Fh as Pt,wb as ve}from"https://app.framerstatic.com/chunk-MFLONCUE.js";import"https://app.framerstatic.com/chunk-BU6JUTXA.js";import"https://app.framerstatic.com/chunk-XBQHBV7C.js";import{a as k}from"https://app.framerstatic.com/chunk-H4IIIHXS.js";import{C as ct}from"https://app.framerstatic.com/chunk-UXB4YBAD.js";import{e as H,j as W}from"https://app.framerstatic.com/chunk-NEN2GU72.js";import{B as at,C as ce,P as st,a as K,b as oe,f as it,i as ee,p as me,t as pe}from"https://app.framerstatic.com/chunk-7GSQJDMV.js";import{e as R}from"https://app.framerstatic.com/chunk-G6RVR2BI.js";var et=R(k());var Ur=te;function Br(){return De?De():Ur.getURLs?{...Ur.getURLs(),showConsole:!1,disableDevice:!1}:{imageBaseURL:"",projectURL:"",showConsole:!1,disableDevice:!1}}var J=R(k());var Be=R(k()),Ce=class extends Be.default.PureComponent{constructor(){super(...arguments);this.state={}}static getDerivedStateFromError(o){return{error:o}}static getDerivedStateFromProps(o,t){if(o.nodeToRenderKey!==t.nodeToRenderKey){let i={nodeToRenderKey:o.nodeToRenderKey};return t.error&&(i.error=void 0),i}return null}render(){return this.state.error?Be.default.createElement(Ct,{error:{error:this.state.error}}):this.props.children}};var Eo="navigationTarget";function Wr(e){return Eo in e}var Pe=R(wo());var Se=R(k());function To(e){return typeof e=="function"}function $r(e,r,o){if(!e)return;let t=Object.keys(e);if(t.length!==0)return()=>{var w,p;let i=Hr(),s,a,d=!1,c={};for(let C of t){let E=e[C];if(!E)continue;let S=[],T=xo(C,r),z=!1;for(let M of E){let{actionIdentifier:f,controls:I,meta:D}=M;if(!f||!I||z&&!T||(z=ar(M))&&((w=I.type)==null?void 0:w.value)!=="previous"&&!((p=I.target)!=null&&p.value))continue;let N=P.componentForIdentifier(f);if(!N)continue;let F={};for(let[B,j]of Object.entries(I))if(j)if(j.type==="componentinstance"&&Rt(j.value))F[B]=o(j.value);else if(vr(M)&&hr(B)){let Z=Gt(j.value);if(!$t(Z))continue;F[B]=Z.url}else F[B]=j.value;let x=N.class;if(!To(x))continue;let U=x(F);typeof U=="function"&&(S.push({handler:U,meta:D}),Le(D==null?void 0:D.key)&&(d=!0))}if(S.length===0)continue;let $=(...M)=>{let f=Promise.resolve();return S.forEach(I=>{var F;let{handler:D,meta:h}=I;if(T){let x=M[0];if(!x||!ko(x,h))return;(F=x.preventDefault)==null||F.call(x)}let N=h==null?void 0:h.delay;N&&(f=f.then(()=>Mo(N*1e3,i))),f=f.then(()=>D(...M))}),f.catch(I=>{}),f};T?s=$:No(C,r)?a=$:c[C]=$}function l(){i.forEach(C=>C("cancel delayed actions")),i.clear()}let v=(0,Se.useContext)(Kt),m=s;return Lt((C,E)=>{let S=C&&!E;if(S||l(),S&&a&&a(),S&&m)return document.addEventListener("keydown",m),d&&v.register(m),()=>{d&&v.unregister(m),document.removeEventListener("keydown",m)}}),(0,Se.useEffect)(()=>()=>{l(),d&&m&&v.unregister(m)},[]),c}}function No(e,r){return e===qt&&r}function xo(e,r){return e===Xt&&r}function ko(e,r){if(!e||!r||!r.key)return!1;let o=r.key;return Le(e)?!Zt(o)||e.inputs.length===0?!1:o.mapping===e.mapping&&e.inputs.includes(o.key):Object.keys(o).every(t=>o[t]===e[t])}function Mo(e,r){return new Promise((o,t)=>(r.add(t),window.setTimeout(()=>{r.has(t)&&(r.delete(t),o())},e)))}var $e=R(Po());var Ge=R(k());function Gr(e){return typeof e=="string"||Me&&Me(e)?e:fe&&fe.isLinearGradient(e)?fe.toCSS(e):ge&&ge.isRadialGradient(e)?ge.toCSS(e):ke.isColorObject(e)?ke.toRgbString(e):e}function We(e){if(e.background||e.color){let r=Object.assign({},e);return e.background&&(r.background=Gr(e.background)),e.color&&(r.color=Gr(e.color)),r}return e}function Io(e){return typeof e=="function"?r=>e(We(r)):()=>We(e)}function Lo(e){var t;let r=Object.assign({},...e),o={};for(let i of e)for(let s in i){let a=i[s];if(typeof a!="function")continue;let d=(t=o[s])!=null?t:[];o[s]=d,d.push(a)}for(let i in o){let s=o[i];K(s,"Functions must be defined"),s.length===1?r[i]=s[0]:r[i]=(...a)=>{s.forEach(d=>d(...a))}}return r}function zr(e,r){if(r.length===0)return e;let o=r.map(Io),t=e;if(!Ie){for(let i of r)t=At(t,i),(0,$e.default)(t,e);return t}return t=function(i){Ge.default.useContext(Ie);let s=[];for(let l of o)s.push(l(i));let a=Lo(s);for(let l in a){let v=a[l];typeof Ne=="function"&&Ne(v)&&(a[l]=v.get(),it("The use of Animatable values in Overrides is no longer supported. use MotionValues instead."))}let{style:d,...c}=i;return Ge.default.createElement(e,{...c,...a,_initialStyle:d})},(0,$e.default)(t,e),t.displayName=`WithOverrides(${e.displayName||e.name})`,t}var Do=me("preview");function ze(e,r,o={}){let t=e.getGroundNodeFor(r),i=at("screen",t.id,"default").value;return kr(i,{...o,key:t.id})}function Fo(e,r){let o=e.getGroundNodeFor(r),t=e.getScopeNodeFor(o);return zt(t)&&!ne(o)}function ie(e,r,o,t){let i=a=>{let d=ir(a);return d?e.getNode(d):null},s=r;if(Yt(r)){let a=i(r);if(a)s=a;else return null}return t&&Fo(e,s)?ze(e,s):be(s)?ue({node:s,forceRender:o}):ue({node:s,forceRender:o,modifyComponentForNode(a,d,c){if(Wr(a)&&a.navigationTarget){let m,w;if(a.navigationTarget==="@Previous")m="goBack";else{m=a.navigationTransition;let p=e.get(a.navigationTarget);p?w=()=>ie(e,p,o,t):Do.warn(`Could not find navigation node for ${a.navigationTarget}`)}d=It(d,m,a.navigationTransitionDirection,w,{backdropColor:a.navigationTransitionBackdropColor})}xe&&xe(c)&&(c._constraints.enabled=!1);let l=[];if(gr(a)){let m=e.getScopeNodeFor(a),w=a.getActions(P),p=Jt(a),C=$r(w,p,E=>{let S=e.getNode(E);if(S===null||m===null)return null;let T=e.get(S.parentid);return T===null||T.id!==m.id?null:ie(e,S,o,t)});C&&l.push(C)}let v;if(Qt(a)&&a.codeOverrideEnabled&&a.codeOverrideIdentifier){let m=P.componentForIdentifier(a.codeOverrideIdentifier);m&&(vt(m)?l.push(m.class):ht(m)&&(v=m.class))}return v&&(d=v(d)),l.length>0&&(d=zr(d,l)),a instanceof or&&c.contentState instanceof Pe.ContentState&&(c.contentState=(0,Pe.convertToRaw)(c.contentState)),[d,c]}})}var b=R(k());var O=R(k());var _r="highlightContainer_h73umcx",Vr="animation_a1qvnauk",Xr="highlight_h181oh5e";var _e=640,G=2,jo=!0;function Oo(e,r,o=1){return!e||!r?!1:Math.abs(e.x-r.x)>o||Math.abs(e.y-r.y)>o}function Ao(e){return Array.from(new Set(e))}function Jr(e){return e.framerHighlight==="true"||e.highlight==="true"}function we(e){return e instanceof HTMLElement}function Ko(e){return Jr(e.dataset)||e.disabled===!1}function Uo(e){let r=e;for(;we(r)&&r.dataset.framerComponentType!=="NavigationContainer";){if(Jr(r.dataset))return!0;r=r.parentElement}return!1}function qr(e){let r=e;for(;r&&we(r);){if(r.dataset.framerComponentType==="NavigationContainer"){let o=r.querySelectorAll("[data-framer-is-current-navigation-target=true]");return o.length?o[o.length-1]:r}r=r.parentElement}return r}function Bo(e){let{top:r,left:o,width:t,height:i}=e.target.getBoundingClientRect(),s=!1,a=!1,d=!1,c=!1;e.intersectionRatio!==1&&(s=Math.abs(e.boundingClientRect.left-e.intersectionRect.left)>1,a=Math.abs(e.boundingClientRect.right-e.intersectionRect.right)>1,d=Math.abs(e.boundingClientRect.top-e.intersectionRect.top)>1,c=Math.abs(e.boundingClientRect.bottom-e.intersectionRect.bottom)>1),(s||a)&&(o=e.intersectionRect.left,t=e.intersectionRect.width),(d||c)&&(r=e.intersectionRect.top,i=e.intersectionRect.height);let{borderTopRightRadius:l=0,borderTopLeftRadius:v=0,borderBottomLeftRadius:m=0,borderBottomRightRadius:w=0}=jo?getComputedStyle(e.target):{},p=e.target.id?`highlight-${e.target.id}-${r}-${o}-${t}-${i}`:Pt(),C=0;if(we(e.target)){let E=e.target.style;E.left==="50%"&&E.top==="50%"&&E.transform==="translate(-50%, -50%)"&&e.target.dataset.framerComponentType==="Frame"&&(C=-1)}return O.default.createElement("div",{key:p,className:Xr,style:{borderTopRightRadius:d||a?0:`calc(${G}px + ${l}) `,borderTopLeftRadius:d||s?0:`calc(${G}px + ${v}) `,borderBottomLeftRadius:c||s?0:`calc(${G}px + ${m}) `,borderBottomRightRadius:c||a?0:`calc(${G}px + ${w}) `,top:r-G,left:o-G,width:t+G*2,height:i+G*2+C,borderWidth:G}})}function Zr({setHighlightsCallback:e}){let[r,o]=O.default.useState([]),t=O.default.useRef(void 0),i=O.default.useCallback(l=>{let v=new IntersectionObserver((m,w)=>{o(m.filter(p=>p.isIntersecting).map(Bo).filter(Boolean)),w.disconnect()},{threshold:[0]});Ao([...l.querySelectorAll("[data-framer-highlight=true], [data-highlight=true], *:enabled")]).forEach(m=>v.observe(m))},[]),s=!!r.length,a=O.default.useCallback(l=>{let v=l.target;if(Oo({x:l.clientX,y:l.clientY},t.current,4)||l.defaultPrevented||!(v instanceof Element)||we(v)&&Ko(v)||Uo(v)||s)return;let m=qr(v);m&&i(m)},[i,s]),d=O.default.useCallback(()=>{let l=qr(document.querySelector("[data-framer-is-current-navigation-target=true]"));l&&i(l)},[i]);O.default.useEffect(()=>{let l=setTimeout(()=>{d()},_e);return()=>clearTimeout(l)},[d]),O.default.useEffect(()=>{if(r&&r.length){let l=setTimeout(()=>o([]),_e);return()=>clearTimeout(l)}},[r]);let c=O.default.useCallback(l=>{t.current={x:l.clientX,y:l.clientY}},[]);return O.default.useEffect(()=>(document.addEventListener("mousedown",c),document.addEventListener("mouseup",a),e(d),()=>{e(null),document.removeEventListener("mouseup",a),document.removeEventListener("mousedown",c)}),[a,c,e,d]),O.default.createElement("div",{className:ve(r.length&&Vr,_r),style:{animationDuration:`${_e}ms`}},r)}var Ee=R(k());function Yr(e,r,o){let t=Ee.default.createElement(Ee.default.Fragment,null,o);if(!e)return t;let i=P.componentForIdentifier(e);return!i||!gt(i)?t:Ee.default.createElement(i.class,r,o)}var Qr="previewApp_p19opbdr",eo="touchCursor_tq8245a",to="disableUserSelect_dxvyd3w";function $o(e,r){if(ne(e)&&sr(r,e)){let o=cr(r,e);return K(_(o),"PreviewRenderer: WebPage Scope node must exist and be a WebPageNode"),{entryNode:o.getPrimaryVariant(),entryScopeNode:o}}if(_(e))return{entryNode:e.getPrimaryVariant(),entryScopeNode:e};if(He(e)){let o=r.getScopeNodeFor(e);return K(_(o),"PreviewRenderer: WebPage Scope node must exist and be a WebPageNode"),{entryNode:o.getPrimaryVariant(),entryScopeNode:o}}if(be(e)&&!He(e)){let o=r.getScopeNodeFor(e);return K(Fe(o),"PreviewRenderer: Smart Component Scope node must exist and be a SmartComponentNode"),{entryNode:e,entryScopeNode:o}}return{entryNode:e}}var ro=b.default.memo(function({tree:r,customProperties:o,nodeToRender:t,nodeToRenderKey:i,reloadCount:s,assetMapHash:a,touchCursor:d,highlightsEnabled:c,pluginComponentId:l,pluginContentWidth:v,pluginContentHeight:m,setHighlightsCallback:w,onFinishedRendering:p,onNavigationAction:C,pathVariables:E}){var Z,se,Y;let S=he("sites"),T=S,z=(0,b.useCallback)(n=>{let u=r.getNode(n);return u?ie(r,u,a,T):null},[r,a,T]),[$]=(0,b.useState)(()=>new Ht((n,u,g)=>{g.dispatchEvent(new CustomEvent("FramerEvent",{bubbles:!0,detail:{type:n,event:u}}))}));(0,b.useEffect)(()=>p==null?void 0:p(),[p]);let{entryNode:M,entryScopeNode:f}=$o(t,r);(0,b.useEffect)(()=>{S&&Array.from(document.body.classList).filter(n=>n.startsWith(Wt)).forEach(n=>document.body.classList.remove(n))},[f==null?void 0:f.id,S]);let I=f&&Vt(f)?f.dataIdentifier:void 0,D=xr();(0,b.useEffect)(()=>{let n=ce(I);pe(n)&&D.ensureExternalModuleLoaded(n).catch(ee)},[I,D]);let h,N=new Set;if(f&&_(f)){let n={};for(let u of r.root.children){if(!_(u))continue;n[u.id]={page:ue({node:u.getPrimaryVariant()}),path:(Z=u.pagePath)!=null?Z:"/",elements:Oe(u)};let g=P.componentForIdentifier(u.instanceIdentifier),L=g==null?void 0:g.fonts;if(L)for(let A of L)N.add(A)}f.dataIdentifier&&!E&&(E=Xo({path:(se=f.pagePath)!=null?se:"/",dataIdentifier:f.dataIdentifier})),h=b.default.createElement(xt,{disableHistory:!0,routes:n,initialRoute:f.id,initialPathVariables:E,defaultPageStyle:{minHeight:"100%",width:"100%"}})}else if(f&&Fe(f)){let n={},u=r.root.homePageNodeId;for(let g of r.root.children)_(g)&&(n[g.id]={page:void 0,path:(Y=g.pagePath)!=null?Y:"/",elements:Oe(g)});h=b.default.createElement(Tt,{api:{currentRouteId:u,navigate:()=>{},routes:n,getRoute:g=>n[g]}},ie(r,M,a,T)," ")}else if(h=b.default.createElement(Ft,null,ie(r,M,a,T)),T){let n=yr(r,M,P),u={};for(let g of n)u[g.id]={page:L=>ze(r,g,L)};h=b.default.createElement(b.default.Fragment,null,b.default.createElement(Mr,{stylePresetsListNode:rr(r)}),b.default.createElement(Nt,{routes:u},h))}Jo(N);let{width:F,height:x}=t.rect();v&&(F=v),m&&(x=m);let U=r.getScopeNodeFor(t);h=Yr(l,{prototypeWidth:F,prototypeHeight:x},h),h=b.default.createElement(Dt,{value:C},h);let B=Boolean(U&&_(U)),j=b.default.createElement("div",{className:ve(!f&&Qr,d&&eo,!B&&to),key:i+s,onClickCapture:qo},b.default.createElement(Ut,{value:z},b.default.createElement(Ot,null,b.default.createElement(jt,{session:$},b.default.createElement(Mt,null,h)))),w&&c&&b.default.createElement(Zr,{setHighlightsCallback:w}));return Tr(j,o)},Vo),Go=new Set(["tree","customProperties","nodeToRenderKey","assetMapHash","autoReload","pluginContentWidth","pluginContentHeight"]),zo={tree:!0,customProperties:!0,nodeToRender:!0,nodeToRenderKey:!0,assetMapHash:!0,autoReload:!0,reloadCount:!0,modulesUpdateCount:!0,externalModulesLoading:!0,touchCursor:!0,highlightsEnabled:!0,pluginComponentId:!0,pluginContentWidth:!0,pluginContentHeight:!0,setHighlightsCallback:!0,onFinishedRendering:!0,onNavigationAction:!0,pathVariables:!0},_o=Object.keys(zo);window.stopPreviewUpdating=!1;function Vo(e,r){return window.stopPreviewUpdating?!0:r.autoReload===!0?!1:_o.every(o=>{if(Go.has(o))return!0;let t=r[o],i=e[o];return o==="nodeToRender"?t.id===i.id:t===i})}function Xo({path:e,dataIdentifier:r}){let o=P.dataForIdentifier(r);if(!o)return;let t;switch(o.dataType){case"record":t=o.class;break;case"collection":{let a=o.class[0];K(a,`Class must be defined in data entity: ${o}`),t=a;break}default:oe(o)}let i={},s=tr(e);for(let a of s)i[a]=String(t[a]);return i}function qo(e){let{target:r}=e;if(!(r instanceof HTMLElement))return;let o=r.closest("a");if(!o)return;let t=o.getAttribute("href");if(!t)return;let i=kt(t),{target:s}=i;s?o.setAttribute("target",s):o.removeAttribute("target")}function Jo(e){let r=le(()=>new Map);(0,b.useEffect)(()=>{if(e.size!==0)for(let o of e){let t=br(o);if(r.has(t))continue;let i=ut(o,document);r.set(t,i),i.catch(()=>r.delete(t))}})}var Ve=R(k()),oo=["click","contextmenu","keydown"];function no({disabled:e=!1}){let r=Ve.default.useRef(new W),o=Bt(t=>{r.current.emit({type:t.type})},1e3);return Ve.default.useEffect(()=>{if(!e)return oo.forEach(t=>{window.addEventListener(t,o,!0)}),()=>{oo.forEach(t=>{window.removeEventListener(t,o,!0)})}},[e,o]),r.current.newStream}var Xe=R(k());function Zo(e){return e.target!==null&&"nodeName"in e.target&&typeof e.target.nodeName=="string"}function io(e,r){return function(t){t.repeat||t.defaultPrevented||t.isComposing||(e.emit({altKey:t.altKey,code:t.code,ctrlKey:t.ctrlKey,key:t.key,metaKey:t.metaKey,shiftKey:t.shiftKey,targetNodeName:Zo(t)?t.target.nodeName:""}),r&&Yo(t)&&t.preventDefault())}}function Yo(e){if(!(e.ctrlKey||e.metaKey))return!1;switch(e.key){case"i":case"I":return pr?!e.shiftKey:!e.altKey;case"o":return!0;case"p":return!0;case"r":return!0;case"s":case"S":return!0;case"H":return!0}return!1}function ao({preventNativeBrowserShortcuts:e}){let r=Xe.default.useRef(new W),o=io(r.current,e);return Xe.default.useEffect(()=>{let t=o;return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[o]),r.current.newStream}var ae=R(k());var Qo=[/^\[[a-z:-]+\]\s*☎️/i,/^%c Loader: %c/,/warn: \[FeatureSet\]/],en='Unable to show message, check the web inspector console. You can access the web inspector by right-clicking the preview, and selecting "Inspect".';function so(){let e=ae.default.useRef(new W),r=ae.default.useRef(),o=ae.default.useRef(i=>{let{data:s,...a}=i;if(s[0]&&Qo.some(c=>typeof s[0]=="string"&&c.test(s[0])))return;let d={...a,data:s.map(c=>{try{return Ue(c)}catch{return Ue(en)}})};Promise.resolve().then(()=>{e.current.emit({logs:[d]})}).catch(ee)}),t=ae.default.useRef(i=>{try{let s=mr(i),a=s.message;s.stack&&(a+=`
`,a+=s.stack.map(c=>c.functionName?`  at ${c.functionName} (${c.fileName}:${c.lineNumber}:${c.colNumber})`:`  at ${c.fileName}:${c.lineNumber}:${c.colNumber}`).join(`
`));let d={method:"error",data:[a],id:""};o.current(d)}catch{}});return ae.default.useEffect(()=>{let i=t.current;return r.current=Dr(window.console,o.current),window.addEventListener("error",i),()=>{r.current&&Fr(r.current),window.removeEventListener("error",i)}},[]),e.current.newStream}var qe=R(k());function co(){let e=qe.default.useRef(new W),r=qe.default.useCallback(o=>e.current.emit({key:o}),[]);return[e.current.newStream,r]}var Je=R(k());function lo(){let[e,r]=Je.default.useState(),[o,t]=Je.default.useState();return V({channel:H,service:Q,onDiscover:i=>i.metadataUpdateStream({replay:"latest"}),onError:X},async({pluginContentWidth:i,pluginContentHeight:s})=>{r(i),t(s)}),{width:e,height:o}}var Ze=R(k());function uo(){let e=Ze.default.useRef(new W),r=Ze.default.useCallback(()=>{e.current.emit({})},[]);return[e.current.newStream,r]}var y=R(k());function mo(e){e.root.children.forEach(po)}function po(e){let r=e.cache;r.reset(),r.lastUpdate=e.update;let o=e.children;o&&o.forEach(po)}var tn=/\d+(px)?$/;function Ye(e,r){return typeof e=="string"&&tn.test(e)&&(e=parseFloat(e)),typeof e=="number"&&!isNaN(e)?e:r}var rn=window,fo="",go="";function vo(e){let r=e["index.js"],o=e["vendors.js"];r&&(fo=String(je(r))),o&&(go=String(je(o)));let t=`${fo}_${go}`;return rn.componentHash=t,t}var q=me("preview"),on=0,Qe=()=>`key-${++on}`;function nn(e){var r;return((r=e.item)==null?void 0:r.type)==="node"?e.item.nodeId:void 0}function an(e){var r;return((r=e.item)==null?void 0:r.type)==="component"?e.item.componentId:void 0}function sn(e){let r=P.componentForIdentifier(e);return r&&ft(r)?r:P.errorForIdentifier(e)}function cn(e){let r=e.defaultProps||{},o=Ye(r.width,200),t=Ye(r.height,200);return new er({codeComponentIdentifier:e.identifier,left:0,top:0,width:o,height:t,...Et({width:{type:"number",value:o},height:{type:"number",value:t}})})}function dn(e,r){return _t(e,P,r)}function ln(e){mo(e),ur(e,new Sr,new fr("sandbox"))}var ho=3e3;function un(e,r,o={getCustomProperties:dn,getComponent:sn,applyChanges:Ae,rebuildCache:ln}){let t={...e},i=!1;switch(r.type){case"setColorMode":{if(t.isDarkMode=r.isDarkMode,t.tree&&t.project.status==="loaded"){let s=o.getCustomProperties(t.tree,t.isDarkMode);t.project={...t.project,customProperties:s}}break}case"applyTreeChanges":if(e.tree)try{o.applyChanges(e.tree,r.changes),t.tree=e.tree.commit()}catch(s){q.reportError(s),delete t.tree,t.shouldPerformFullTreeLoad=!0}break;case"partialTreeUpdate":{t.partialTreeUpdate||(t.partialTreeUpdate=new Or(P),t.shouldPerformFullTreeLoad=!1),t.tree=t.partialTreeUpdate.update(r.update);break}case"forceRender":t.project.status==="loaded"&&t.reloadCount++;break;case"setItem":t.item=r.item;break;case"setTree":t.tree=r.tree,t.shouldPerformFullTreeLoad=!1;break;case"pause":t.isPaused=!0;break;case"resume":t.isPaused=!1,t.modulesFreezingTimestamp=performance.now()+ho;break;case"updateStateDueToScriptsChange":i=!0;break;case"updateStateDueToModuleChange":i=!0,t.localModulesInitialized=r.localModulesInitialized,performance.now()<t.modulesFreezingTimestamp&&t.modulesUpdateCount++;break;case"assetMapDidUpdate":t.assetMapHash=r.assetMapHash,t.tree&&lr({subtree:t.tree.root,invalidateElements:!0,invalidateAssets:!0});break;case"externalModulesLoadingStateUpdate":t.externalModulesLoading=r.loading,t.project.status==="loaded"&&!r.loading&&(t.project.nodeToRenderKey=Qe());break;default:oe(r)}if(t.item)switch(t.item.type){case"node":{let s=t.tree!==e.tree,a=t.item.nodeId!==nn(e),d=t.assetMapHash!==e.assetMapHash;if(t.tree&&t.assetMapHash!==void 0&&t.localModulesInitialized&&(s||a||d||i)){let c=t.tree.getNode(t.item.nodeId);if(c){let l=o.getCustomProperties(t.tree,t.isDarkMode);t.project={status:"loaded",tree:t.tree,customProperties:l,nodeToRender:c,nodeToRenderKey:Qe(),assetMapHash:t.assetMapHash}}else t.project={status:"error"}}}break;case"component":{let s=!e.tree&&t.tree,a=t.item.componentId!==an(e),d=t.assetMapHash!==e.assetMapHash;if(!t.tree||t.assetMapHash===void 0||!t.localModulesInitialized){t.project={status:"waiting"};break}if(s||a||d||i){let c=o.getComponent(t.item.componentId);if(!c){t.project={status:"error"};break}if(bt(c)&&c.fileDoesNotExist){t.project={status:"waiting"};break}let l=o.getCustomProperties(t.tree,t.isDarkMode);t.project={status:"loaded",tree:t.tree,customProperties:l,nodeToRender:cn(c),nodeToRenderKey:Qe(),assetMapHash:t.assetMapHash}}}break;default:oe(t.item)}return t.tree&&(t.tree!==e.tree||i||e.externalModulesLoading&&!t.externalModulesLoading)&&o.rebuildCache(t.tree),e.project.status!==t.project.status&&t.project.status==="loaded"&&(t.modulesFreezingTimestamp=performance.now()+ho),q.debug("useProjectStream action",r,e,t),t}function bo({renderPhaseEventStream:e,logStream:r,keyboardEventStream:o,interactionStream:t,navigationEventStream:i,onShowHighlights:s,isDarkMode:a}){let[{isPaused:d,project:c,shouldPerformFullTreeLoad:l,reloadCount:v,modulesUpdateCount:m,externalModulesLoading:w},p]=(0,y.useReducer)(un,{isPaused:!1,isDarkMode:a,project:{status:"loading"},shouldPerformFullTreeLoad:!0,reloadCount:0,modulesUpdateCount:0,modulesFreezingTimestamp:1/0,localModulesInitialized:!1,externalModulesLoading:!1}),[C,E]=(0,y.useState)(!0),[S,T]=(0,y.useState)(),[z,$]=(0,y.useState)(),[M,f]=(0,y.useState)(),[I,D]=(0,y.useState)(),h=le(()=>new jr("eager",{localModulesLoaded(){},externalModuleLoaded(){},externalModulesLoadingStateChange(n){p({type:"externalModulesLoadingStateUpdate",loading:n})}})),N=(0,y.useCallback)(n=>{for(let u of n.root.walk()){if(!ne(u))continue;let g=ce(u.codeComponentIdentifier);(g==null?void 0:g.kind)==="externalModuleExport"&&h.ensureExternalModuleLoaded(g).catch(q.reportError)}},[h]),F=(0,y.useRef)(null),x=(0,y.useRef)(null),U=le(()=>st()),B=(0,y.useCallback)(n=>{U.then(()=>h.handleLocalModulesUpdate(n)).then(()=>{p({type:"updateStateDueToModuleChange",localModulesInitialized:n.initialized})}).catch(q.reportError)},[U,h]),j=(0,y.useCallback)(n=>{let u=vo(n);F.current!==u&&(P.updateStateWithScripts(n,te),F.current=u,x.current=n,p({type:"updateStateDueToScriptsChange"}))},[]),Z=(0,y.useCallback)(n=>{let u=nr.fromJS(n,P);if(!u)throw Error("unable to build tree from: "+n);N(u),p({type:"setTree",tree:u})},[N]),se=(0,y.useRef)(!1);(0,y.useEffect)(()=>{K(!se.current,"Ensure interface handlers are wrapped in useRef/useCallback to avoid restarting the service"),nt.on(H).register({reload:async()=>{x.current&&P.updateStateWithScripts(x.current,te),p({type:"forceRender"})},pause:async()=>{p({type:"pause"})},setColorMode:async({isDarkMode:n})=>{p({type:"setColorMode",isDarkMode:n})},resume:async()=>{p({type:"resume"})},setAutoReload:async({autoReload:n})=>{E(n)},previewKeyboardEventStream:o,renderPhaseEventStream:e,previewLogStream:r,previewInteractionStream:t||function(){throw new Error("Not implemented")},navigationEventStream:i,showHighlights:s}),se.current=!0},[t,o,r,s,e,i]),(0,y.useEffect)(()=>{l&&(Q.on(H).discover().then(async n=>{let{document:u,initialUpdates:g,scripts:L}=await n.loadDocument();if(L&&j(L),u){let A=Cr(u);g&&(Ae(A,g),A=A.commit()),N(A),p({type:"setTree",tree:A})}}).catch(ee),Te.on(H).discover().then(async n=>{let{dependenciesModule:u,modules:g,initialized:L,revision:A}=await n.getModules(),re=[];u&&re.push({op:"add",path:[`${u.type}/${u.name}`],value:u});for(let Re of Object.values(g))re.push({op:"add",path:[`${Re.type}/${Re.name}`],value:Re});B({patches:re,dependentModules:[],initialized:L,revision:A})}).catch(ee),rt.on(H).discover().then(async n=>{n.experimentsUpdatesStream({replay:"latest"}).read(u=>ye.update(u)).catch(q.reportError),n.projectFeaturesUpdatesStream().read(u=>de.update(u)).catch(q.reportError)}).catch(q.reportError))},[l,j,B,N]),V({channel:H,service:Q,onDiscover:n=>n.scriptsUpdateStream(),onError:X},async({content:n})=>j(n)),V({channel:H,service:Te,onDiscover:n=>n.moduleUpdatesStream(),onError:X},async({patches:n,dependentModules:u,initialized:g,revision:L})=>{B({patches:n,dependentModules:u,initialized:g,revision:L})}),V({channel:H,service:Q,onDiscover:n=>n.treeUpdateStream(),onError:X},async n=>{n.type==="tree"?Z(n.tree):n.type==="changes"?p({type:"applyTreeChanges",changes:n.changes}):n.type==="partialTreeUpdate"?(K(Pr(n)),p({type:"partialTreeUpdate",update:n})):oe(n)}),V({channel:H,service:Q,onDiscover:n=>n.metadataUpdateStream({replay:"latest"}),onError:X},async({item:n,touchCursor:u,highlights:g,pluginComponentId:L,pathVariables:A})=>{p({type:"setItem",item:n}),T(u),$(g),f(L),D(A);let re=ce(L);pe(re)&&h.ensureExternalModuleLoaded(re).catch(q.reportError)}),V({channel:H,service:ot,onDiscover:n=>n.keyDownStream(),onError:X},async n=>{let u=new KeyboardEvent("keydown",n);document.dispatchEvent(u)});let Y=(0,y.useContext)(Ar);return K(Y,"Missing AssetMap, the preview may have not been bootstrapped correctly"),(0,y.useEffect)(()=>{pt(tt.on(H).discover(),async n=>{n.assets&&(Y.set(n.assets),U.resolve(),mt.importCustomFonts(n.assets),p({type:"assetMapDidUpdate",assetMapHash:Y.hash}))})},[Y,U]),{isPaused:d,project:c,touchCursor:S,isHighlightsEnabled:z,pluginComponentId:M,autoReload:C,reloadCount:v,modulesUpdateCount:m,externalModulesLoading:w,modulesRuntime:h,pathVariables:I}}var yo=({enableInteractionTracking:e,isPlayPreview:r,isDarkMode:o})=>{let t=J.default.useRef(null),i=J.default.useCallback(N=>{t.current=N},[]),s=J.default.useCallback(async()=>{t.current&&t.current()},[]),[a,d]=uo(),[c,l]=co(),v=he("sites"),m=r&&v,{isPaused:w,project:p,autoReload:C,touchCursor:E,isHighlightsEnabled:S,pluginComponentId:T,reloadCount:z,modulesUpdateCount:$,externalModulesLoading:M,modulesRuntime:f,pathVariables:I}=bo({isDarkMode:o,renderPhaseEventStream:a,logStream:so(),keyboardEventStream:ao({preventNativeBrowserShortcuts:!m}),interactionStream:no({disabled:!e}),navigationEventStream:c,onShowHighlights:s}),{width:D,height:h}=lo();return w||p.status!=="loaded"&&p.status!=="waiting"?null:p.status==="waiting"?J.default.createElement(Lr,null):J.default.createElement(Nr.Provider,{value:f},J.default.createElement(Ce,{nodeToRenderKey:p.nodeToRenderKey},J.default.createElement(ro,{...p,touchCursor:E&&!m,setHighlightsCallback:i,highlightsEnabled:S&&!m,pluginComponentId:T,pluginContentWidth:D,pluginContentHeight:h,onFinishedRendering:d,onNavigationAction:l,autoReload:C,reloadCount:z,modulesUpdateCount:$,externalModulesLoading:M,pathVariables:I})))};window.Framer=te;function Co(){let e=new URL(window.location.href).searchParams,r=e.get("target"),o=e.get("mode")==="dark",{enableInteractionTracking:t,renderTarget:i}=Ir(r,o),{imageBaseURL:s}=Br(),{assetResolver:a,AssetProvider:d}=Kr(),c=new wr;St({assetResolver:a,fetchGoogleFontsList:Rr,enableFontStore:!0,experiments:ye,projectFeatures:de,useImageSource:c.useImageSource,useImageElement:c.useImageElement}),yt.start(),lt({target:i,imageBaseURL:s}),dt(),Ke({isSites:wt.sites==="on"}),de.addListener("sites",l=>Ke({isSites:l==="on"})),Er(et.default.createElement(d,null,et.default.createElement(yo,{enableInteractionTracking:t,isPlayPreview:r==="play-web",isDarkMode:o})),document.querySelector("main"))}var So=dr(document.referrer).origin;ct({name:"preview-next",security:{allowChannelToParentWithOrigin:So,allowChannelToOpenerWithOrigin:So}});Co();
//# sourceMappingURL=https://app.framerstatic.com/preview-next.BX3THTVH.js.map
