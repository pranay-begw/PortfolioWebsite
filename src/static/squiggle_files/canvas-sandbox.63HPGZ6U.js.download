import"https://app.framerstatic.com/chunk-PXI5INM4.js";import{a as Kt,b as Jt,c as en}from"https://app.framerstatic.com/chunk-FVBCXSUW.js";import{a as Vt}from"https://app.framerstatic.com/chunk-U6LCHLUH.js";import{a as et,b as nt,c as rt,e as qe,j as $t}from"https://app.framerstatic.com/chunk-DKJCSWIN.js";import{a as Je,b as Ie,f as Yt,h as jt}from"https://app.framerstatic.com/chunk-HQAT3FDZ.js";import{c as Ot,d as At,f as kt,j as Wt,k as ze}from"https://app.framerstatic.com/chunk-NRIBSGP2.js";import{a as Xt,c as Qt,d as Zt,g as _t}from"https://app.framerstatic.com/chunk-2S35SSJW.js";import{O as zt,c as ke,e as he,f as Ut,fa as qt,ja as Fe,la as Bt}from"https://app.framerstatic.com/chunk-GSHWBSOS.js";import"https://app.framerstatic.com/chunk-A2XM7CWL.js";import{a as tt,b as ot}from"https://app.framerstatic.com/chunk-LRFMZAIA.js";import{a as Ke,i as Ft,l as Gt}from"https://app.framerstatic.com/chunk-FIYP577F.js";import{$g as wt,$m as Et,Cd as St,Ea as mt,Fd as Nt,Fh as de,Fs as Ae,G,Ic as ae,Id as te,Jd as xt,Kh as bt,La as ft,M as ut,Nf as Ct,O as ht,Oj as Tt,Qr as Ue,Ur as Oe,Vg as Pe,Y as lt,_g as ne,bb as Y,bi as It,cb as gt,eb as E,fk as Mt,i as x,ib as vt,ii as P,io as Dt,j as C,jb as Rt,kb as ee,m as ct,no as ue,pa as B,pb as Ee,xk as ce,xq as Pt,za as pt,zc as yt,zm as Le}from"https://app.framerstatic.com/chunk-M45VXM4I.js";import"https://app.framerstatic.com/chunk-CKP2GXTU.js";import"https://app.framerstatic.com/chunk-ZAVCCCEM.js";import"https://app.framerstatic.com/chunk-AL5W2DML.js";import{d as Lt}from"https://app.framerstatic.com/chunk-KQURWOV5.js";import"https://app.framerstatic.com/chunk-DSERDOJV.js";import"https://app.framerstatic.com/chunk-M5JBPS3M.js";import{j}from"https://app.framerstatic.com/chunk-ED23XP4C.js";import{a as Ht}from"https://app.framerstatic.com/chunk-BILZATDT.js";import{b as De,d as se}from"https://app.framerstatic.com/chunk-IEH5QJIZ.js";import"https://app.framerstatic.com/chunk-7DPOW67T.js";import"https://app.framerstatic.com/chunk-3MSLF32W.js";import"https://app.framerstatic.com/chunk-CJ5LZKVI.js";import{Dh as vn,nh as gn}from"https://app.framerstatic.com/chunk-MFLONCUE.js";import"https://app.framerstatic.com/chunk-BU6JUTXA.js";import"https://app.framerstatic.com/chunk-XBQHBV7C.js";import{a as dt}from"https://app.framerstatic.com/chunk-H4IIIHXS.js";import{B as st,C as at}from"https://app.framerstatic.com/chunk-UXB4YBAD.js";import{c as _e,d as $e,f as J,j as H}from"https://app.framerstatic.com/chunk-NEN2GU72.js";import{P as Me,a as X,i as Te,p as O,r as it}from"https://app.framerstatic.com/chunk-7GSQJDMV.js";import{e as ie,g as be,h as Qe,i as Ze}from"https://app.framerstatic.com/chunk-G6RVR2BI.js";var W=ie(dt());function tn(s){return!!s&&s.type==="SandboxUpdate"}var nn=ie(gn()),Ge=O("DeferredRendering");Y.setTaskWrapper(nn.unstable_batchedUpdates);var Rn=10,yn=1e3,le=class{constructor(e,t){this.renderCanvas=e;this.onFinishedLoading=t;this.renderingPhase="Unknown";this.isReadyToRender=!1;this.nodeResourceCounters={};this.groundNodeBatches=[];this.mutableNodesDeferredRendering=new Set;this.mutableNodesLoadingResources=new Set;this.nodesDeferredRendering=new Set;this.nodesLoadingResources=new Set;this.hasScheduledUpdateCanvas=!1;this.scheduleUpdateCanvas=()=>{this.hasScheduledUpdateCanvas||(this.hasScheduledUpdateCanvas=!0,setTimeout(this.updateCanvas))};this.updateCanvas=()=>{if(this.hasScheduledUpdateCanvas=!1,!this.isReadyToRender)return;if(this.prepareNextBatch(),this.nodesDeferredRendering=new Set(this.mutableNodesDeferredRendering),this.nodesLoadingResources=new Set(this.mutableNodesLoadingResources),this.nodesLoadingResources.size>0||this.nodesDeferredRendering.size>0){Y.setPriority(4),this.renderCanvas(this.scheduleUpdateCanvas);return}let t=Y.getPriority();if(t>0){Y.hasImmediateTasksToRun()||Y.setPriority(t-1),this.renderCanvas(this.scheduleUpdateCanvas);return}this.renderingPhase="Normal",Ge.debug("finished",this.activeScopeId),this.renderCanvas(this.onFinishedLoading)};this.batchUpdateResourceLoading=lt(this.scheduleUpdateCanvas,200);this.hasGroundNodes=!1}prepareNextBatch(){let e=this.groundNodeBatches.shift();if(e!==void 0)for(let t of e)this.mutableNodesDeferredRendering.delete(t),this.mutableNodesLoadingResources.add(t)}groundNodeHasLoadedResources(e){delete this.nodeResourceCounters[e],this.mutableNodesLoadingResources.delete(e),this.nodesDeferredRendering.size===0&&this.batchUpdateResourceLoading()}setReadyToRender(e){this.isReadyToRender!==e&&(this.isReadyToRender=e,this.scheduleUpdateCanvas())}createNodeBatches(e){let t=0,n=[],o=()=>{this.groundNodeBatches.push(n),t=0,n=[]};for(let r of e)t>=yn&&o(),t+=on(r),n.push(r.id);n.length!==0&&o()}setGroundNodes(e,t,n){if(this.activeScopeId!==n&&(this.activeScopeId=n,this.renderingPhase="Deferred",Ge.debug("switching scope id:",n),this.nodeResourceCounters={},this.groundNodeBatches=[],this.mutableNodesDeferredRendering=new Set,this.mutableNodesLoadingResources=new Set,this.nodesDeferredRendering=new Set,this.nodesLoadingResources=new Set,this.hasGroundNodes=!1),this.hasGroundNodes)return;if(this.hasGroundNodes=!0,e.length===0)return this.renderingPhase="Normal",Ge.debug("finished",this.activeScopeId,"groundNodes.length === 0"),this.onFinishedLoading();let o=new Set,r=new Set;for(let i of e){let d=i.id;this.nodeResourceCounters[d]=0,this.mutableNodesDeferredRendering.add(d),t.has(d)?o.add(i):r.add(i)}this.nodesDeferredRendering=new Set(this.mutableNodesDeferredRendering),this.createNodeBatches(o),this.createNodeBatches(r),this.scheduleUpdateCanvas()}shouldTrackResources(e){let t=this.nodesLoadingResources.has(e),n=this.nodesDeferredRendering.has(e);return t&&!n}trackResourceLoading(e,t){if(this.shouldTrackResources(e)){this.nodeResourceCounters[e]++;let o=()=>{this.nodeResourceCounters[e]--,this.checkLoadingState(e)};t().then(o).catch(o)}}checkLoadingState(e){this.shouldTrackResources(e)&&this.nodeResourceCounters[e]===0&&this.groundNodeHasLoadedResources(e)}};function on(s){var t;let e=1;s instanceof ue&&(e+=Rn);for(let n of(t=s.children)!=null?t:[])e+=on(n);return e}function pe(s,e=2){if(s=s||0,Number.isInteger(s))return s;let t=.5*Number.EPSILON*s,n=1;for(;e-- >0;)n*=10;return s<0&&(n*=-1),Math.round((s+t)*n)/n}var fe=G.isChrome(),me=G.isFirefox(),oe=G.isEdge(),Be=G.isWebKit(),k=En();function ye(){return(window==null?void 0:window.devicePixelRatio)||0}var A=new DOMMatrixReadOnly;var ge=class{constructor(){this.computedStyleCache=new Map;this.sizeCache=new Map;this.boundingClientRectCache=new Map;this.matrixCache=new Map;this.transformMatrixAndOffsetCache=new Map;this.untransformedRectCache=new Map}getComputedStyle(e){let t=this.computedStyleCache.get(e);return t||(t=getComputedStyle(e),this.computedStyleCache.set(e,{display:t.display,width:t.width,height:t.height,transform:t.transform}),t)}getCachedSize(e){return e?this.sizeCache.get(e):void 0}getSize(e){let t=this.sizeCache.get(e);if(t)return t;let n=this.getComputedStyle(e),o=()=>{let u=e instanceof HTMLElement?e.offsetWidth:e.clientWidth;return n.display.startsWith("inline")?u+1:u},r=()=>e instanceof HTMLElement?e.offsetHeight:e.clientHeight,i=n.width.endsWith("px")?parseFloat(n.width):o(),d=n.height.endsWith("px")?parseFloat(n.height):r();return t={width:i||0,height:d||0},this.sizeCache.set(e,t),t}getCSSTransform(e){return this.getComputedStyle(e).transform||"none"}hasTransforms(e){return me?this.getCSSTransform(e)!=="none":!this.getMatrix(e).isIdentity}getMatrix(e){let t=this.matrixCache.get(e);if(t)return t;let n=this.getCSSTransform(e);return t=n==="none"?A:new DOMMatrix(n),this.matrixCache.set(e,t),t}getBoundingClientRect(e){let t=this.boundingClientRectCache.get(e);return t||(t=e.getBoundingClientRect(),this.boundingClientRectCache.set(e,t),t)}getUntransformedRectInGround(e,t){let n=this.untransformedRectCache.get(e);if(n)return n;let o=this.getTransformAncestors(e),r={x:0,y:0,paintX:0,paintY:0,translationX:0,translationY:0},i=A,d={x:0,y:0,width:0,height:0};return[...o,e].forEach(a=>{let c=this.transformMatrixAndOffsetCache.get(a);if(c){r={...c.offset},i=c.matrix;return}let{width:h,height:g}=this.getSize(a),v=x(h/2,g/2),p=this.getBoundingClientRect(a),R=this.getMatrix(a),l=v.x,m=v.y,y=A.translate(l,m).multiplySelf(R).translateSelf(-l,-m),f,N=Be;if(N){let re=sn(h)/2,K=sn(g)/2,fn=A.translate(re,K).multiplySelf(R).translateSelf(-re,-K);f=i.multiply(fn)}else f=i.multiply(y);let I=x(p.x+p.width/2,p.y+p.height/2),M=P.convertPoint(t,I),F=P.convertPoint(f,v),$=0,V=0;if(N){let re=i.multiply(y),K=P.convertPoint(re,v);$=F.x-K.x,V=F.y-K.y}let L=M.x-F.x,xe=M.y-F.y,z=A.translate(L,xe).multiplySelf(f),q=x(M.x-$,M.y-V),U=P.convertPoint(i.inverse(),q),T=x(Re(U.x-h/2),Re(U.y-g/2)),Ve=x(w(T.x),w(T.y)),Ce=this.hasTransforms(a),He=P.hasNonTranslationTransform(R),we=Mn(a),{rect:Xe,paintDelta:Ye,translation:je}=Tn(r,T,{width:h,height:g},R,Ce,we);r.x+=(fe||oe)&&He&&!we.includes(0)||me&&Ce?Ve.x:T.x,r.y+=(fe||oe)&&He&&!we.includes(1)||me&&Ce?Ve.y:T.y,r.paintX+=Ye.x,r.paintY+=Ye.y,r.translationX+=je.x,r.translationY+=je.y,i=z,this.transformMatrixAndOffsetCache.set(a,{matrix:i,offset:{...r}}),this.untransformedRectCache.set(a,Xe),d=Xe}),d}getTransformAncestors(e){var o;let t=[],n=e.parentElement;for(;n!=null&&!rn(n)&&n!==((o=e.ownerDocument)==null?void 0:o.documentElement);)this.hasTransforms(n)&&t.unshift(n),n=n.parentElement;return t}getParentRelativeRect(e,t,n){let o=this.getUntransformedRectInGround(e,t),r=o,i,d,u=e instanceof HTMLElement?e.offsetParent:e.parentElement;return u&&!rn(u)?(r=this.getUntransformedRectInGround(u,t),i=o.x-r.x,d=o.y-r.y):n?(i=n.x,d=n.y):(i=0,d=0),{x:i,y:d,width:o.width,height:o.height}}};function rn(s){var e;return s.classList.contains(qe)||((e=s.parentElement)==null?void 0:e.classList.contains(qe))}function Sn(s){let e=an(s)/k,t=ye();return pe(e*t,0)/t}function Nn(s){return ye()<2?Math.round(Re(s)):Math.round(Re(s)*2)/2}function xn(s){let e=an(s),t=0,n=e%k,o=Math.trunc(e/k)*k;return ye()<=1?(n>=32&&(t=64),n<-32&&(t=-64)):(n>=16&&n<48&&(t=32),n>=48&&(t=64),n<-16&&n>=-24&&(t=-24),n<-24&&n>=-48&&(t=-32),n<-48&&n>=-56&&(t=-56),n<-56&&(t=-64)),(o+t)/k}function Cn(){return fe||oe?Nn:Be?xn:Sn}var w=Cn();function ve({x:s,y:e,width:t,height:n}){let o=w(s),r=w(e);return{x:o,y:r,width:w(s+t)-o,height:w(e+n)-r}}function sn(s){let e=ye();return pe(s*e,0)/e}function Re(s){return pe(s*k,0)/k}function an(s){return Math.trunc(s*k)}function wn({x:s,y:e,width:t,height:n},o){let{rotation:r,translation:i}=We(o),d=x(s-i.x,e-i.y),u=ve({...d,width:t,height:n}),a=x(u.x+w(t)/2,u.y+w(n)/2),c=A.translate(a.x+i.x,a.y+i.y).rotateSelf(r).translateSelf(-a.x,-a.y),h=P.convertPoint(c,C.center(u)),g=h.x-u.width/2,v=h.y-u.height/2;return{paintedRect:{x:g,y:v,width:u.width,height:u.height},snappedLayoutRect:u,translation:i}}function bn({x:s,y:e,width:t,height:n},o,r=[]){let{rotation:i,translation:d}=We(o);r.includes(0)&&(d.x=-.5*t),r.includes(1)&&(d.y=-.5*n);let u=x(s-d.x,e-d.y),a=ve({...u,width:t,height:n}),c=Math.round(t),h=Math.round(n),g=i!==0?c:a.width,v=i!==0?h:a.height,p=x(a.x+t/2,a.y+n/2),R=A.translate(p.x+d.x,p.y+d.y).rotateSelf(i).translateSelf(-p.x,-p.y),l=x(a.x+g/2,a.y+v/2),m=P.convertPoint(R,l),y=m.x-g/2,f=m.y-v/2;return{paintedRect:{x:y,y:f,width:g,height:v},snappedLayoutRect:a,translation:d}}function In(s,e,{width:t,height:n},o){let{rotation:r,translation:i}=We(o),d=x(e.x-i.x,e.y-i.y),u=s.x+w(d.x),a=s.y+w(d.y),c=x(u+t/2,a+n/2),h=A.translate(c.x+i.x,c.y+i.y).rotateSelf(r).translateSelf(-c.x,-c.y),g=P.convertPoint(h,x(u+t/2,a+n/2)),v=g.x-t/2,p=g.y-n/2;return{x:v,y:p,width:t,height:n}}function Tn(s,e,t,n,o,r){let i={x:0,y:0},d={x:-s.paintX,y:-s.paintY},u={x:s.translationX,y:s.translationY},a={x:s.x-u.x+e.x,y:s.y-u.y+e.y,...t};if(Be){let p=ve(a),R=C.offset(p,{x:u.x+d.x,y:u.y+d.y});if(o){let{paintedRect:l,snappedLayoutRect:m,translation:y}=wn(a,n),f=C.offset(l,{x:u.x+d.x,y:u.y+d.y}),N=C.offset(m,y);return i={x:N.x-l.x,y:N.y-l.y},{rect:f,paintDelta:i,translation:y}}return{rect:R,paintDelta:i,translation:{x:0,y:0}}}if(fe||oe){let p=ve(a),R=C.offset(p,{x:u.x+d.x,y:u.y+d.y});if(o){let{paintedRect:l,snappedLayoutRect:m,translation:y}=bn(a,n,r),f=C.offset(l,{x:u.x+d.x,y:u.y+d.y}),N=C.offset(m,y);return i={x:N.x-l.x,y:N.y-l.y},{rect:f,paintDelta:i,translation:y}}return{rect:R,paintDelta:i,translation:{x:0,y:0}}}let c=s.x+e.x,h=s.y+e.y,g={x:c,y:h,...t};if(o){let p=C.offset({x:s.x+w(e.x),y:s.y+w(e.y),width:g.width,height:g.height},d),R=C.offset(In(s,e,t,n),d);return i={x:p.x-R.x,y:p.y-R.y},{rect:R,paintDelta:i,translation:{x:0,y:0}}}return{rect:C.offset(g,d),paintDelta:i,translation:{x:0,y:0}}}function We(s){let e=Math.atan2(s.b,s.a)*(180/Math.PI),t={x:s.e,y:s.f};return{rotation:e,translation:t}}function Mn(s){let e=[];return s instanceof HTMLElement&&(s.dataset.framerLayoutHintCenterX&&e.push(0),s.dataset.framerLayoutHintCenterY&&e.push(1)),e}function En(){return me?60:oe?100:64}var D=O("LayoutMeasureQueue"),Pn=new DOMMatrixReadOnly,dn=G.isFirefox()?1:0,Q=class{constructor(e){this.measureRequests=new Map;this.measureRequestsNodeIds=new Set;this.refinementRequests=new Map;this.refinementRequestsByGroundNodeId=new Map;this.richTextNodeIds=new Set;this.previousScopeNodeId="";this.resizeObserver=null;this.shouldMeasureTimerStarted=!1;this.shouldMeasureCallback=void 0;this.runShouldMeasureCallback=()=>{this.shouldMeasureTimerStarted=!1,this.size()!==0&&this.shouldMeasureCallback&&this.shouldMeasureCallback()};this.resized=(e,t)=>{if(this.resizeObserver===t)for(let n of e){let o=n.target;if(!o.isConnected||!o.id)return;this.add(ne(o.id),o)}};this.shouldMeasureCallback=e}add(e,t,n){D.trace("layout measure queue:",e),!(!n&&this.measureRequests.has(t))&&(this.measureRequests.set(t,{nodeId:e,children:n}),this.measureRequestsNodeIds.add(e),this.shouldMeasureCallback&&!this.shouldMeasureTimerStarted&&(setTimeout(this.runShouldMeasureCallback,100),this.shouldMeasureTimerStarted=!0))}stylePresetChanged(e){for(let t of this.richTextNodeIds)this.remeasureNodeAndAncestors(e,e.get(t));this.richTextNodeIds.clear()}remeasureNodeAndAncestors(e,t){t&&(this.measureRequestsNodeIds.has(t.id)||(t.cache.htmlElement&&this.add(t.id,t.cache.htmlElement),this.remeasureNodeAndAncestors(e,e.getNodeParent(t))))}remeasureAutosizingAncestors(e,t){if(t){if(St(t))for(let n of t.children)n.cache.htmlElement&&(this.measureRequestsNodeIds.has(n.id)||(D.trace("remeasureAutosizingAncestors, stack child:",n.id),this.add(n.id,n.cache.htmlElement)));Ee(t)&&(t.widthType!==2&&t.heightType!==2||t.cache.htmlElement&&(this.measureRequestsNodeIds.has(t.id)||(D.trace("remeasureAutosizingAncestors:",t.id),this.add(t.id,t.cache.htmlElement),this.remeasureAutosizingAncestors(e,e.getNodeParent(t)))))}}process({scopeId:e,zoom:t,offsetX:n,offsetY:o,tree:r,groundNodesInViewport:i}){var l;this.previousScopeNodeId!==e&&(D.debug("switching to a new page",this.previousScopeNodeId,e),this.richTextNodeIds.clear(),this.refinementRequests.clear(),this.refinementRequestsByGroundNodeId.clear(),cn(r.get(this.previousScopeNodeId)),this.previousScopeNodeId=e,this.resizeObserver&&this.resizeObserver.disconnect(),this.resizeObserver=new ResizeObserver(this.resized));let d=this.previousZoomLevel!==void 0&&t!==this.previousZoomLevel;this.previousZoomLevel=t;let u=this.previousGroundNodesInViewport!==void 0&&i!==this.previousGroundNodesInViewport,a=new Set([...i]),c=new Set;if(this.previousGroundNodesInViewport!==void 0)for(let m of i)this.previousGroundNodesInViewport.has(m)&&(a.delete(m),c.add(m));if(this.previousGroundNodesInViewport=i,u&&this.processRefinementRequests(a),(u||d)&&t>dn&&this.processRefinementRequests(c),D.trace("process:",this.size()),this.size()===0)return[];let h=Pn.scale(t).translateSelf(-n,-o),g=[],v=new Map,p=new ge;for(let[m,y]of this.measureRequests){let f=r.getNode(y.nodeId);f&&this.remeasureAutosizingAncestors(r,r.getNodeParent(f))}let R=Ln(this.measureRequests.values(),r,h);for(let[m,y]of this.measureRequests){let{nodeId:f,children:N}=y,I=r.getNode(f);if(!I)continue;if(!m.isConnected){D.trace("measureRequest: not connected",f);continue}let M=R.get(f);I.cache.htmlElement=m;let F=M.matrix,$=M.rect;if(!i.has(M.id)){this.addRefinementRequest(f,{element:m,groundNodeId:M.id,measureRequest:y}),D.trace("measureRequest: refine",f);continue}let V;if(N){V=[];for(let z of N){if(Qt(z))continue;let q=ne(z.id),U=v.get(z);if(!U&&(U=p.getParentRelativeRect(z,F,$),v.set(z,U),q)){let T=r.getNode(q);T&&(T.cache.needsMeasure=!1),g.push({nodeId:q,layoutMetrics:U})}if(q){let T=r.getNode(q);if(T&&!It(T,I))continue}V.push(U)}}let L=v.get(m);L?D.trace("measureRequest: cached",f,L):(L=p.getParentRelativeRect(m,F,$),v.set(m,L),D.trace("measureRequest: getParentRelativeRect",f,L)),t<=dn&&this.addRefinementRequest(f,{element:m,groundNodeId:M.id,measureRequest:y});let xe={...L,childrenRects:V};I&&(I.cache.needsMeasure=!1,te(I)?this.richTextNodeIds.add(f):xt(I)&&((l=this.resizeObserver)==null||l.observe(m))),g.push({nodeId:f,layoutMetrics:xe})}return this.measureRequests.clear(),this.measureRequestsNodeIds.clear(),g}size(){return this.measureRequests.size}addRefinementRequest(e,t){let n=this.refinementRequests.get(e);if(n&&n.groundNodeId){let o=this.refinementRequestsByGroundNodeId.get(n.groundNodeId);o==null||o.delete(n)}if(this.refinementRequests.set(e,t),t.groundNodeId){let o=this.refinementRequestsByGroundNodeId.get(t.groundNodeId);o||(o=new Set,this.refinementRequestsByGroundNodeId.set(t.groundNodeId,o)),o.add(t)}}processRefinementRequests(e){for(let t of e){let n=this.refinementRequestsByGroundNodeId.get(t);if(!(!n||n.size===0)){for(let o of n)this.refinementRequests.delete(o.measureRequest.nodeId),o.element.isConnected&&(this.measureRequestsNodeIds.has(o.measureRequest.nodeId)||(D.trace("refine:",o.measureRequest.nodeId),this.measureRequests.set(o.element,o.measureRequest)));n.clear()}}}};function Ln(s,e,t){var r;let n=new Map,o=new Map;for(let{nodeId:i}of s){let d=t,u=e.get(i),a=[],c=u;for(;c&&e.getParent(c.id);){let h=o.get(c.id);if(h){c=e.get(h);break}c=e.getParent(c.id),c&&a.push(c.id)}if(c&&Ee(c)){d=((r=n.get(c.id))==null?void 0:r.matrix)||d.translate(c.left||0,c.top||0).inverse();for(let g of a)o.set(g,c.id)}else d=d.inverse();n.set(i,{id:c==null?void 0:c.id,matrix:d,rect:c?ce(c):null})}return n}function cn(s){if(!s)return;s.cache.htmlElement=null;let e=s.children;if(e)for(let t of e)cn(t)}var Se=class{constructor(){this.componentLoaderStateEmitter=new H;this.componentLoaderStateStream=this.componentLoaderStateEmitter.newStream;this.componentLoaderStateEmitter.emit({type:"fullStateSync",hash:"initial",state:E.getSerializableState()})}emitComponentLoaderStateEvent(e){this.componentLoaderStateEmitter.emit(e)}async queryData(e){var o;let t=E.componentForIdentifier(e.identifier);if(!t||!ft(t))throw Error("Invalid identifier for data entity");let n=t.class;if(e.id&&Array.isArray(n)){let r=(o=t.annotations)==null?void 0:o.framerRecordIdKey;r&&(n=n.find(i=>i[r]===e.id))}return{data:Un(e.fields,n)}}};function Un(s,e){if(!e)return[];Array.isArray(e)||(e=[e]);let t=s.map(n=>{let o=n.split(".");if(o.length===1){let r=o[0];return i=>i[r]}return r=>{for(let i of o){let d=r[i];if(!se(d))return;r=d}return r}});return e.map(n=>{let o={};for(let r=0;r<s.length;r++)o[s[r]]=t[r](n);return o})}function un(s,e){let n=performance.now(),o=0,r=(...i)=>{performance.now()-n>60?(o=void 0,s(...i)):o=setTimeout(r,60,...i)};return(...i)=>{o&&clearTimeout(o),o=setTimeout(r,e,...i)}}function hn(s){let e=new Q;for(let t of s){let n=document.getElementById(wt(t.id));n&&e.add(t.id,n,On(t,n))}return e}function On(s,e){return s instanceof ue?ut(e):[]}var Z=ie(dt()),ln=ie(vn());function An({resolve:s,children:e}){return(0,Z.useLayoutEffect)(s),Z.default.createElement(Z.default.Fragment,null,e)}async function pn(s){let e=document.createElement("div");e.style.visibility="hidden",e.style.position="absolute",e.style.pointerEvents="none",document.body.appendChild(e);let t=(0,ln.createRoot)(e),n={},o=s.map(i=>{let d=i.clone({...bt,textFitViewBoxSize:void 0,widthType:2,heightType:2,width:void 0,height:void 0});return n[d.id]=i.id,i.forceNeedsMeasure(),_t({node:d})});await new Promise(i=>{t.render(Z.default.createElement(An,{resolve:i},o))});let r=[];for(let i of e.children){let{clientWidth:d,clientHeight:u,id:a}=i,c=n[ne(a)];c&&r.push({nodeId:c,width:d,height:u})}return t.unmount(),document.body.removeChild(e),{measurements:r}}var S=O("canvas-sandbox"),mn=(s,e)=>new Promise((t,n)=>{setTimeout(()=>{n(Error(e))},s)}),_,Ne=class{constructor(){this.renderTarget="CANVAS";this.lastEngineUpdate=0;this.tree=Ae.createEmpty();this.layoutCache=new Bt;this.sandboxCollectionData=new zt("sandbox");this.selection=[];this.imageBaseURL="";this.initialModuleUpdatesBufferState={buffering:!0,buffer:[]};this.modulesRevision=null;this.lazyModulesRevision=0;this.componentHash=null;this.loadedSomeUserData=!1;this.isInitialLoad=!0;this.isDarkMode=!1;this.scopeSwitchStartTime=0;this.scopeSwitchUpdateEndTime=0;this.scopeId="";this.groundNodes=[];this.groundNodeIdsInViewport=new Set;this.visibleRect={x:0,y:0,width:0,height:0};this.textNodeIdsToRerender=new Set;this.lastStylePresetsListNodeUpdate=0;this.measureLayoutAndEmitUpdate=()=>{let e=performance.now(),t=this.lastRendering.update,n=this.measureLayout(t),o=this.sandboxCollectionData.getUpdates(),r=n.length,i=o.length;if(r===0&&i===0)return;S.trace("measureLayoutAndEmitUpdate","layoutMeasurementCount:",r,"collectionRecordUpdateCount:",i);let d=performance.now();this.renderedUpdateEmitter.emit({update:t,updateTime:0,renderTime:d-e,renderingPhase:this.deferredRendering.renderingPhase,moduleRuntimePhase:this.modulesRuntime.phase,layoutMeasurements:n,collectionRecordUpdates:o,scopeId:this.scopeId,updateEndTime:0,renderEndTime:d,scopeSwitchStartTime:0})};this.deferredRenderingFinished=()=>{this.isLoadingResourcesPromise.resolve(),this.isInitialLoad=!1;let e=this.lastRendering.update,t=this.measureLayout(e);t.length>0&&S.trace("deferredRenderingFinished",t.length),this.renderedUpdateEmitter.emit({update:e,updateTime:0,renderTime:0,renderingPhase:"Normal",moduleRuntimePhase:this.modulesRuntime.phase,layoutMeasurements:t,collectionRecordUpdates:this.sandboxCollectionData.getUpdates(),scopeId:this.scopeId,updateEndTime:this.scopeSwitchUpdateEndTime,renderEndTime:performance.now(),scopeSwitchStartTime:this.scopeSwitchStartTime}),this.scopeSwitchStartTime&&this.scopeSwitchUpdateEndTime&&(this.scopeSwitchStartTime=0,this.scopeSwitchUpdateEndTime=0)};this.deferredRendering=new le(e=>this.triggerRenderer(e),this.deferredRenderingFinished);this.imageLoader=new Vt((e,t)=>{let n=this.tree.get(e);if(n){let o=this.tree.getGroundNodeFor(n);this.deferredRendering.trackResourceLoading(o.id,t)}});this.performanceMode=!1;this.offsetX=0;this.offsetY=0;this.canvasZoom=1;this.liveZoom=void 0;this.inMoveTool=!1;this.renderTime=0;this.nodeWithPlaceholder=null;this.previousNodeInTextEditor=Pe;this.previousNodeInPathEditor=Pe;this.previousNodesInEffectPreview=[];this.previousActiveEffect=null;this.previousActiveOverlayNodes=new Set;this.controlsVisibilityService=new Wt(this);this.sandboxComponentLoaderService=new Se;this.sandboxComponentLoader=E;this.layoutMeasureQueue=new Q(this.measureLayoutAndEmitUpdate);this.modulesRuntime=new Jt("waiting",this);this.forceRender=1e3;this.assetMap=new pt;this.svgRenderer=qt.shared();this.startedHeartbeat=!1;this.emitHeartbeat=()=>{let t={},{memory:n}=performance;n&&(t.memoryTotal=n.totalJSHeapSize,t.memoryUsed=n.usedJSHeapSize,t.memoryLimit=n.jsHeapSizeLimit),t.domNodes=document.querySelectorAll("*").length,this.heartbeatEmitter.emit({vitals:t,next:1e4}),window.setTimeout(this.emitHeartbeat,1e4)};this.requestTextNodesRerender=un(()=>{this.invalidateTextNodes(this.textNodeIdsToRerender),this.textNodeIdsToRerender.clear(),this.triggerRenderer()},250);this.viewportSize={width:800,height:800};this.updateViewportSize=()=>{let e={width:window.innerWidth||document.documentElement.clientWidth,height:window.innerHeight||document.documentElement.clientHeight};return ht(e,this.viewportSize)?!1:(this.viewportSize=e,!0)};this.renderedUpdateEmitter=new H;this.errorEmitter=new H;this.heartbeatEmitter=new H;this.needsRender=!1;this.lastRendering={update:0,scopeId:"",zoom:1,offsetX:0,offsetY:0,tree:this.tree,groundNodesInViewport:new Set};Qe(this,_,[]);this.reportError=e=>{this.errorEmitter.emit(e)};this.isLoadingResourcesPromise=Me();this.isTrackingUpdates=!1;this.triggerRenderer=()=>{};let e=!1,t=Ie.service.fingerprint,n=Ie.on(J).register({initialize:async({renderTarget:o,upgradeToMessagePortChannel:r,treeVersion:i})=>{if(this.renderTarget=o,e=r,i!==Ct)throw new Error("Incompatible tree version")}});this.setupExperimentsUpdatesStream(J),window.addEventListener("resize",this.updateViewportSize),setTimeout(this.updateViewportSize),window.addEventListener("visibilitychange",()=>{if(document.visibilityState!=="visible")return;this.updateViewportSize()&&(this.updateViewportRect(),this.updateGroundNodesInViewport(),this.triggerRenderer())}),$e.interceptMessageEventsFromOpenerFrame(o=>{if(o.data!==t||!(o instanceof MessageEvent))return!1;n();let r=o.ports[0];X(r,"CanvasSandboxApp expected parent frame to transfer a MessagePort"),X(!this.channelToOpenerFrame,"CanvasSandboxApp already has a channel to the parent frame"),S.debug("CanvasSandboxApp: received port to parent frame; should use it to upgrade:",e);let i=e?new _e(r):J;return this.channelToOpenerFrame=i,Je.on(i).register(this),rt.on(i).register(this.sandboxComponentLoaderService),et.on(i).register(this.controlsVisibilityService),nt.on(i).register(this.modulesRuntime),e&&this.setupExperimentsUpdatesStream(i),mt(Ke.on(i).discover(),async d=>{d.assets&&(this.assetMap.set(d.assets),B.importCustomFonts(d.assets),this.triggerRenderer())}),ot.on(i).discover().then(async d=>{let u=l=>{this.modulesRevision!==null&&l<this.modulesRevision&&S.reportError(new Error("Assertion error: processing modules update out of order.")),he(this.tree,this.sandboxCollectionData),this.markGroundNodesNeedRendering(),this.modulesRevision=l,this.rerenderGroundNodesIfNeeded()};d.moduleUpdatesStream().read(async l=>{if(this.initialModuleUpdatesBufferState.buffering)this.initialModuleUpdatesBufferState.buffer.push(l);else{let{patches:m,dependentModules:y,revision:f,initialized:N}=l;try{await this.modulesRuntime.handleLocalModulesUpdate({patches:m,dependentModules:y,initialized:N,revision:f}),u(f)}catch(I){S.reportError(I,{context:"Failed to handle modules update"})}}}).catch(S.reportError);let{dependenciesModule:a,modules:c,revision:h,initialized:g}=await d.getModules(),v=h,p=[],R=new Set;a&&p.push({op:"add",path:[`${a.type}/${a.name}`],value:a});for(let l of Object.values(c))p.push({op:"add",path:[`${l.type}/${l.name}`],value:l});X(this.initialModuleUpdatesBufferState.buffering);for(let l of this.initialModuleUpdatesBufferState.buffer)l.revision<=v||(v=l.revision,p.push(...l.patches),l.dependentModules.forEach(m=>R.add(m)));this.initialModuleUpdatesBufferState={buffering:!1},this.modulesRuntime.handleLocalModulesUpdate({patches:p,dependentModules:Array.from(R),initialized:g,revision:v}).then(()=>{u(v)}).catch(S.reportError)}).catch(S.reportError),S.debug("CanvasSandboxApp: registered services"),!0}),Oe.updateNodes=o=>{for(let r of o)this.textNodeIdsToRerender.add(r);this.requestTextNodesRerender()},Pt.updateNodes=Oe.updateNodes,S.debug("CanvasSandboxApp: ready to initialize"),jt(J)}calculateCodeRevision(){return this.lazyModulesRevision<=0?this.componentHash+"_"+this.modulesRevision:this.componentHash+"_"+this.modulesRevision+"."+this.lazyModulesRevision}get codeRevision(){return this.calculateCodeRevision()}localModulesLoaded(e,t){this.modulesRevision=e,this.lazyModulesRevision=t,this.sandboxComponentLoaderService.emitComponentLoaderStateEvent({type:"fullStateSync",hash:this.calculateCodeRevision(),state:E.getSerializableState()})}externalModulesLoadingStateChange(e){e||this.rerenderComponentPresets()}externalModuleLoaded(e,t){this.sandboxComponentLoaderService.emitComponentLoaderStateEvent({type:"externalModuleLoaded",externalModuleBareIdentifier:e,entities:t})}get assetMapHash(){return this.assetMap.hash^this.forceRender}setupExperimentsUpdatesStream(e){tt.on(e).discover().then(async t=>{t.experimentsUpdatesStream({replay:"latest"}).read(n=>j.update(n)).catch(S.reportError),t.projectFeaturesUpdatesStream().read(n=>ee.update(n)).catch(S.reportError)}).catch(S.reportError)}invalidateTextNodes(e){for(let t of e){let n=this.tree.get(t);n!==null&&(n.cache.reset(),ke(this.tree,n),de(n)&&n.forceNeedsMeasure())}this.groundNodes=this.getGroundNodes(Le)}updateTransform(e){var t;this.offsetX=e[0],this.offsetY=e[1],this.canvasZoom=e[2],this.liveZoom=e[3],this.inMoveTool=(t=e[4])!=null?t:!1}async waitForViewportSize(e){let t=Me(),n=()=>{window.innerWidth===e.width&&window.innerHeight===e.height&&t.resolve()};window.addEventListener("resize",n),n();try{await Promise.race([t,mn(5e3,`CanvasSandboxApp: expected resize to (${e.width}x${e.height}) within 5s, but viewport is still ${window.innerWidth}x${window.innerHeight}`)])}finally{window.removeEventListener("resize",n)}return{pixelRatio:window.devicePixelRatio}}updateViewportRect(){let e=this.liveZoom||this.canvasZoom,t=0,n=0,o=0,r=0;this.visibleRect={x:this.offsetX+t/e,y:this.offsetY+o/e,width:(this.viewportSize.width-t-n)/e,height:(this.viewportSize.height-o-r)/e}}updateGroundNodesInViewport(){if(this.liveZoom)return;let e=this.visibleRect,t=new Set,n=this.groundNodeIdsInViewport,o=this.groundNodes,r=!0;for(let d=0,u=o.length;d<u;d++){let a=o[d],c=a.id;C.intersects(ce(a),e)&&(t.add(c),r&&!n.has(c)&&(r=!1))}(!r||t.size!==n.size)&&(this.groundNodeIdsInViewport=t);let i=Ue(this.tree);i&&i.update!==this.lastStylePresetsListNodeUpdate&&(this.lastStylePresetsListNodeUpdate=i.update,this.loadStylePresetFontsAndThenMeasure())}updateCache(){Ut(this.tree,this.layoutCache,this.sandboxCollectionData,this.scopeId),this.previousCachedScopeId=this.scopeId}markNeedsReactRendering(){this.needsRender=!0}markGroundNodesNeedRendering(){this.needsRender=!0,this.groundNodes=[]}invalidateRenderCacheToNode(e){ke(this.tree,e),this.markGroundNodesNeedRendering()}setTree(e){this.tree=e,this.markGroundNodesNeedRendering()}_update(e){var o,r,i,d,u;this.needsRender=!1,window.name=JSON.stringify(e.update),this.svgRenderer.update(),e.transform&&(this.updateTransform(e.transform),this.markNeedsReactRendering());let t=(o=e.document)!=null?o:{};t.loadedAllUserData?(this.loadedSomeUserData=!0,this.modulesRuntime.setEvaluationMode("eager")):t.loadedSomeUserData&&(this.loadedSomeUserData=!0,j.isOn("lazyModuleLoading")?this.modulesRuntime.setEvaluationMode("lazy"):this.modulesRuntime.setEvaluationMode("eager")),t.renderScope&&(this.scopeId=t.renderScope,this.groundNodeMap=void 0,this.isInitialLoad||(this.scopeSwitchStartTime=performance.now()),this.markNeedsReactRendering()),t.renderNodes&&(this.scopeId="",this.groundNodeMap=t.renderNodes,this.markNeedsReactRendering()),t.imageBaseURL&&(this.imageBaseURL=t.imageBaseURL,this.svgRenderer.imageBaseURL=this.imageBaseURL,this.markNeedsReactRendering());let n=t.partialTreeUpdate;if(n){this.partialTreeReceiver||(this.partialTreeReceiver=new en(E));let a=this.partialTreeReceiver.update(n);this.setTree(a),n.tree&&this.loadStylePresetFontsAndThenMeasure(),n.changes&&n.changes.length>0&&this.layoutCache.pruneAfterTreeChanges(n.changes)}else{if(t.tree){let a=(r=Ae.fromJS(t.tree,E))!=null?r:void 0;if(a===void 0)throw Error("[Sandbox] Unable to build tree: "+t.tree);this.setTree(a),this.loadStylePresetFontsAndThenMeasure()}t.changes&&t.changes.length>0&&(Ft(this.tree,t.changes),this.layoutCache.pruneAfterTreeChanges(t.changes),this.setTree(this.tree.commit()))}if(this.previousCachedScopeId!==this.scopeId&&this.markGroundNodesNeedRendering(),t.nodeInTextEditor!==void 0){if(this.previousNodeInTextEditor){let c=this.tree.get(this.previousNodeInTextEditor);c&&(c.cache.isEditable=!1,this.invalidateRenderCacheToNode(c))}this.previousNodeInTextEditor=t.nodeInTextEditor;let a=this.tree.get(t.nodeInTextEditor);a&&(a.cache.isEditable=!0,this.invalidateRenderCacheToNode(a))}if(t.nodeInPathEditor!==void 0){if(this.previousNodeInPathEditor){let c=this.tree.get(this.previousNodeInPathEditor);c&&(c.cache.isEditable=!1)}this.previousNodeInPathEditor=t.nodeInPathEditor;let a=this.tree.get(t.nodeInPathEditor);a&&(a.cache.isEditable=!0)}if(t.nodesInEffectPreview!==void 0){if(this.previousNodesInEffectPreview){let a=new Set(t.nodesInEffectPreview);for(let c of this.previousNodesInEffectPreview){if(a.has(c))continue;let h=this.tree.get(c);h&&(h.cache.isEffectPreview=!1,h.cache.effectType=null,h.cache.effectIds=null,this.invalidateRenderCacheToNode(h))}}this.previousActiveEffect=(i=t.activeEffect)!=null?i:this.previousActiveEffect,this.previousNodesInEffectPreview=t.nodesInEffectPreview;for(let a of t.nodesInEffectPreview){let c=this.tree.get(a);c&&(c.cache.isEffectPreview=!0,c.cache.effectType=(d=t.activeEffect)!=null?d:this.previousActiveEffect,c.cache.effectIds=(u=t.activeEffectIds)!=null?u:null,this.invalidateRenderCacheToNode(c))}}if(t.activeOverlayNodes!==void 0){if(this.previousActiveOverlayNodes.size>0){let a=t.activeOverlayNodes;for(let c of this.previousActiveOverlayNodes){if(a.has(c))continue;let h=this.tree.get(c);h&&(ze(this.tree,h,!1),this.invalidateRenderCacheToNode(h))}}this.previousActiveOverlayNodes=t.activeOverlayNodes;for(let a of t.activeOverlayNodes){let c=this.tree.get(a);c&&(ze(this.tree,c,!0),this.invalidateRenderCacheToNode(c))}}if(this.nodeWithPlaceholder&&t.placeholder!==void 0){let a=this.tree.get(this.nodeWithPlaceholder.id);this.nodeWithPlaceholder.cache.placeholders=null,this.nodeWithPlaceholder=null,a&&(this.invalidateRenderCacheToNode(a),de(a)&&a.forceNeedsMeasure())}if(t.placeholder){let{id:a,placeholders:c}=t.placeholder,h=this.tree.get(a);h&&(this.nodeWithPlaceholder=h,h.cache.placeholders=c,this.invalidateRenderCacheToNode(h),de(h)&&h.forceNeedsMeasure())}if(t.canvasData&&j.isOn("supportDeprecatedDesignComponents")&&(yt.shared().setCanvas(t.canvasData),this.markNeedsReactRendering()),t.scripts&&(At(),Ot(),E.updateStateWithScripts(t.scripts.map,ae),he(this.tree,this.sandboxCollectionData),this.componentHash=t.scripts.hash,this.sandboxComponentLoaderService.emitComponentLoaderStateEvent({type:"fullStateSync",hash:this.calculateCodeRevision(),state:E.getSerializableState()}),this.markGroundNodesNeedRendering()),typeof t.isReadyToRender=="boolean"&&this.deferredRendering.setReadyToRender(t.isReadyToRender),typeof t.isDarkMode=="boolean"&&(this.updateDarkMode(t.isDarkMode),this.markNeedsReactRendering()),typeof t.performanceMode=="boolean"&&(this.performanceMode=t.performanceMode,this.markNeedsReactRendering()),t.collectionItemId){let a=this.tree.get(this.scopeId);Nt(a)&&(this.markGroundNodesNeedRendering(),a.cache.collectionItemSelector={selectedCollectionItemId:t.collectionItemId},he(this.tree,this.sandboxCollectionData))}this.needsRender&&this.rerenderGroundNodesIfNeeded()}updateDarkMode(e){this.isDarkMode!==e&&(this.isDarkMode=e,e?document.body.classList.add("framer-theme-dark"):document.body.classList.remove("framer-theme-dark"))}rerenderComponentPresets(){let e=kt(this.tree);if(e){for(let t of e.children){let n=t.cache;n.isComponentLoaded||!n.links||this.invalidateTextNodes(n.links)}this.rerenderGroundNodesIfNeeded()}}rerenderGroundNodesIfNeeded(){let e=this.getGroundNodes(Le);Dt(this.groundNodes,e)||(this.groundNodes=e),S.trace("rerenderGroundNodesIfNeeded"),this.triggerRenderer()}startRendering(){S.trace("startRendering"),this.updateCache(),this.updateViewportRect(),this.updateGroundNodesInViewport(),this.loadedSomeUserData&&this.deferredRendering.setGroundNodes(this.groundNodes,this.groundNodeIdsInViewport,this.scopeId),this.lastRendering.zoom=this.canvasZoom,this.lastRendering.scopeId=this.scopeId,this.lastRendering.offsetX=this.offsetX,this.lastRendering.offsetY=this.offsetY,this.lastRendering.tree=this.tree,this.lastRendering.groundNodesInViewport=this.groundNodeIdsInViewport,this.lastRendering.update=this.lastEngineUpdate,queueMicrotask(this.measureLayoutAndEmitUpdate)}measureLayout(e){if(this.liveZoom)return[];if(this.previousNodesInEffectPreview.length>0)return[];let t=this.layoutMeasureQueue.process(this.lastRendering);`${e}`;let n=this.layoutCache.processLayoutMeasurements(t);return Mt(this.tree,this.layoutCache,n,!1),t}getGroundNodes(e){let t=this.tree;if(this.scopeId){let o=t.get(this.scopeId);return X(o instanceof Tt,"Can't find active page in tree"),o.getGroundNodes(e)}let n=[];if(this.groundNodeMap)for(let o in this.groundNodeMap){let r=t.get(o);if(!r)continue;let i=this.groundNodeMap[o],d=Yt(t,r,this.layoutCache,this.sandboxCollectionData,i,this.isDarkMode);n.push(d)}return n}command(e,t){e==="clearCache"?(this.forceRender+=1,this.tree.resetDraftNodesAndCache(),this.setTree(this.tree)):e==="setEnvironment"&&se(t)?Object.assign(st,t):e==="setLogLevel"&&De(t)?it(t,!1):S.warn("unknown command:",e,t)}update({fixmeOpaqueJSON:e}){var u;let t=this.scopeId;this.startedHeartbeat||(this.startedHeartbeat=!0,setTimeout(this.emitHeartbeat));let n=performance.now();this.renderTime=0;let o=!1,r=-1;tn(e)?(r=e.update,this.lastEngineUpdate=e.update,this._update(e),o=!0):De(e.command)&&this.command(e.command,e.args);let i=this.deferredRendering.renderingPhase,d=Math.round(performance.now()-n)-this.renderTime;return t!==this.scopeId&&!this.isInitialLoad&&(this.scopeSwitchUpdateEndTime=performance.now()),this.renderedUpdateEmitter.emit({update:r,updateTime:d,renderingPhase:i,renderTime:this.renderTime,moduleRuntimePhase:this.modulesRuntime.phase,layoutMeasurements:[],collectionRecordUpdates:this.sandboxCollectionData.getUpdates(),scopeId:(u=this.scopeId)!=null?u:"",updateEndTime:this.scopeSwitchUpdateEndTime,renderEndTime:0,scopeSwitchStartTime:this.scopeSwitchStartTime}),this.renderTime=0,ct(),""+r,be(this,_).forEach(a=>a()),Ze(this,_,[]),o}runAfterNextUpdate(e){be(this,_).push(e)}renderedUpdateStream(e){return this.renderedUpdateEmitter.newStream(e)}loadStylePresetFontsAndThenMeasure(){let e=Ue(this.tree);if(!e)return;let t=[];for(let n of e.children){let o=n.getFontsForCodeGeneration();for(let r of o)B.isSelectorLoaded(r)||t.push(r)}t.length>0?B.loadMissingFonts(t).then(()=>this.layoutMeasureQueue.stylePresetChanged(this.tree)).catch(Te):this.layoutMeasureQueue.stylePresetChanged(this.tree)}async waitUntilFontsLoaded(){let e=this.getGroundNodes(),t=[];for(let o of e)for(let r of o.walk())Et(r)&&t.push(r);let n=new Set;try{await Promise.allSettled(t.map(o=>{let r=o.getFontsForLoading();return B.loadMissingFonts(r,()=>n.add(o.id)).catch(Te)}))}catch{}for(let o of this.textNodeIdsToRerender)n.add(o);this.invalidateTextNodes(n),this.textNodeIdsToRerender.clear(),await new Promise(o=>{this.triggerRenderer(o)})}errorStream(e){return this.errorEmitter.newStream(e)}heartbeatStream(e){return this.heartbeatEmitter.newStream(e)}async waitUntilResourcesLoaded(){await this.isLoadingResourcesPromise}assertTrackingUpdates(e){X(e===this.isTrackingUpdates,"Update tracking (willStartUpdates/waitForCompleteRenderAfterUpdates) must be balanced and not nested")}async willStartUpdates(){this.assertTrackingUpdates(!1),this.isTrackingUpdates=!0}async waitForCompleteRenderAfterUpdates(){this.assertTrackingUpdates(!0),await this.waitUntilResourcesLoaded(),await this.waitUntilPlaceholdersSettled(),await this.waitUntilFontsLoaded(),await Promise.race([new Promise(e=>requestAnimationFrame(e)),mn(1e3,"CanvasSandboxApp: didn't render after 1s")]).finally(()=>{this.isTrackingUpdates=!1})}async preloadFonts({selectors:e}){await B.loadMissingFonts(e)}async getFitTextViewBoxes({ids:e,update:t}){for(;this.lastEngineUpdate<t;)await new Promise(r=>this.runAfterNextUpdate(r));let n=this.tree.getNodesWithTrait(e,te),o=[];for(let r of n)te(r)&&o.push(...r.getFontsForLoading());return await B.loadMissingFonts(o),pn(n)}async measureNodes({ids:e}){if(this.previousNodesInEffectPreview.length>0)return{measurements:[]};let t=this.tree.getNodes(e),n=hn(t).process({scopeId:this.scopeId,zoom:this.canvasZoom,offsetX:this.offsetX,offsetY:this.offsetY,tree:this.tree,groundNodesInViewport:this.groundNodeIdsInViewport});return S.trace("measureNodes:",n.length),{measurements:n}}async waitUntilPlaceholdersSettled(){return gt()}};_=new WeakMap;at({name:"canvas",security:{allowChannelToOpenerWithOrigin:Lt(document.referrer).origin}});var kn=O("canvas-sandbox"),b=new Ne;Object.assign(window,{Framer:ae,sandboxApp:b});kn.debug({assetMap:b.assetMap});var Fn=Gt(b.assetMap),zn=b.layoutMeasureQueue.add.bind(b.layoutMeasureQueue);vt({assetResolver:Fn,fetchGoogleFontsList:Xt,enableFontStore:!0,executionTimeBudgets:{frame:500,component:150},queueMeasureRequest:zn,experiments:j,projectFeatures:ee,useImageSource:b.imageLoader.useImageSource,useImageElement:b.imageLoader.useImageElement});Fe({isSites:Rt.sites==="on"});ee.addListener("sites",s=>Fe({isSites:s==="on"}));var qn=()=>{let[s,e]=W.default.useState(0),t=Kt();return b.triggerRenderer=n=>{n&&t.add(n);let o=performance.now();e(s+1),b.renderTime+=performance.now()-o},W.default.useEffect(()=>{for(let n of t)t.delete(n),n()}),b.startRendering(),b};Ht(W.default.createElement(W.default.StrictMode,null,W.default.createElement(Zt.Provider,{value:b.modulesRuntime},W.default.createElement($t,{useState:qn}))),document.querySelector("main"));
//# sourceMappingURL=https://app.framerstatic.com/canvas-sandbox.63HPGZ6U.js.map
